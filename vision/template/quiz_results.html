{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>Quiz Results</title>
	<link rel="stylesheet" type="text/css" href="{% static 'qstyle.css' %}">
	<script>

		function bodyread(){
		   // Create a new instance of SpeechSynthesisUtterance
		   var utterance = new SpeechSynthesisUtterance();
  
		   // Set the text to be spoken to the full content of the webpage
		   utterance.text = document.body.textContent;
  
		   // Set the language of the voice
		   utterance.lang = 'en-US';
  
		   // Start speaking the text
		   window.speechSynthesis.speak(utterance);
	   }
	  
	 </script>
</head>
<body>
	<nav class="navbar">
		<div class="navbar-container">
			<a href="#" class="navbar-logo">Simple Quiz App</a>
			<ul class="nav-menu">
				{% if user.is_authenticated %}
				<li><a href="{% url 'main' %}">Home</a></li>
				<li><a href="{% url 'logout' %}">Logout</a></li>
				<li><a href="{% url 'book' %}">Book</a></li>
				<a style="color: hsl(0, 4%, 5%); font-size: 100%;">Welcome Back {{request.user.username}}</a>
				{% else %}
			</ul>
			{% endif %}
		</div>
	</nav>

	<div class="container">
		<h1>Quiz Results</h1>
		
		<p>You scored {{ score }} out of {{ total_questions }} ({{ percentage }}%)</p>
		
		<button type="submit" id="submit" onclick="location.href='{% url 'quiz' %}'">Retake Quiz</button>

	</div>

	<div class="container">
		<h1>Quiz Results</h1>
		<p>You scored {{ score }} out of {{ total }} questions</p>
		<ul>
		  {% for question, is_correct in results.items %}
		  <li>
			<strong>{{ question.question_text }}</strong><br>
			{% if is_correct %}
			<span class="correct">Your answer: {{ question.get_answer_display }} (Correct)</span>
			{% else %}
			<span class="incorrect">Your answer: {{ question.get_answer_display }} (Incorrect)</span><br>
			<span class="correct">Correct answer: {{ question.correct_answer }}</span>
			{% endif %}
		  </li>
		  {% endfor %}
		</ul>
	  </div>

	
</body>
</html>
